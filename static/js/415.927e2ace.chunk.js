"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[415],{2605:function(e,t,r){r.d(t,{Z:function(){return _}});var n="Button_Button__Smq3v",a=r(184),s=function(e){var t=e.onClick;return(0,a.jsx)("button",{type:"button",className:n,onClick:t,children:"Load more"})},c=r(6474),o=r(5984),u=r(7689),i=r(1087),l="MovieItem_GalleryItem__tOTn7",p="MovieItem_GalleryItem_image__GloLE",m="MovieItem_movieTitle__vvSk6",f="MovieItem_movieRelise__ElFcz",v=function(e){var t=e.movie,r=e.alt,n=t.id,s=t.poster_path,c=t.title,o=t.release_date,v=(0,u.TH)(),h=s?"".concat("https://image.tmdb.org/t/p/w500").concat(s):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700";return(0,a.jsxs)("li",{className:l,children:[(0,a.jsx)(i.rU,{to:"/movies/".concat(n),state:{from:v},children:(0,a.jsx)("img",{className:p,src:h,width:200,alt:r})}),(0,a.jsx)("h2",{className:m,children:c}),(0,a.jsxs)("p",{className:f,children:["Release date: ",(0,a.jsx)("br",{})," ",o]})]})},h="MoviesGallery_moviesGallery__2a3z1",d="MoviesGallery_container__p0OR5",_=function(e){var t=e.results,r=e.alt,n=e.totalResults,u=e.clickInLoadMore,i=e.isLoading,l=e.querySearch,p=t.length>0&&t.length<n,m=Array.isArray(t)&&t.length>0;return(0,a.jsxs)("section",{className:d,children:[m&&!l&&(0,a.jsx)("h1",{children:"Popular movies today"}),l&&m&&(0,a.jsxs)("h2",{children:["Found movies on request ",(0,a.jsx)("span",{children:l})," : ",n," "]}),(0,a.jsx)("ul",{className:h,children:m&&t.map((function(e){return(0,a.jsx)(v,{movie:e,alt:r},(0,o.x0)(10))}))}),i&&(0,a.jsx)(c.a,{}),p&&(0,a.jsx)(s,{totalResults:n,onClick:u})]})}},5415:function(e,t,r){r.r(t);var n=r(3433),a=r(5861),s=r(9439),c=r(7757),o=r.n(c),u=r(2605),i=r(2791),l=r(7596),p=r(5967),m=r(184);t.default=function(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),r=t[0],c=t[1],f=(0,i.useState)(1),v=(0,s.Z)(f,2),h=v[0],d=v[1],_=(0,i.useState)([]),x=(0,s.Z)(_,2),g=x[0],y=x[1],w=(0,i.useState)(0),k=(0,s.Z)(w,2),b=k[0],j=k[1];function Z(){return Z=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,(0,p.Df)(t);case 4:if(0!==(r=e.sent).results){e.next=8;break}return l.Am.error("Movies not faund"),e.abrupt("return");case 8:y((function(e){return 1===t?r.results:[].concat((0,n.Z)(e),(0,n.Z)(r.results))})),j(r.total_results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),l.Am.error("API NOT FAUND: ".concat(e.t0.message));case 15:return e.prev=15,c(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])}))),Z.apply(this,arguments)}(0,i.useEffect)((function(){!function(e){Z.apply(this,arguments)}(h)}),[h]);return(0,m.jsx)("section",{children:(0,m.jsx)(u.Z,{results:g,alt:"poster movies ".concat(g.title),totalResults:b,clickInLoadMore:function(){return d((function(e){return e+1}))},isLoading:r})})}},5967:function(e,t,r){r.d(t,{Df:function(){return l},TP:function(){return m},vC:function(){return d},yz:function(){return v}});var n=r(5861),a=r(7757),s=r.n(a),c=r(1243),o=r(7596),u="b283a210ed534a6a364c9fa9b60e8619",i="https://api.themoviedb.org/3";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/trending/movie/day"),n={params:{api_key:u,page:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/movie/").concat(t),n={params:{api_key:u,movie_id:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function v(e,t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t,r){var n,a,l,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"/movie/").concat(t,"/").concat(r),a={params:{api_key:u,movie_id:t}},e.prev=2,e.next=5,(0,c.Z)(n,a);case 5:return l=e.sent,e.next=8,l.data;case 8:return p=e.sent,e.abrupt("return",p);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function d(e){return _.apply(this,arguments)}function _(){return(_=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/search/movie"),n={params:{api_key:u,query:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}},5984:function(e,t,r){r.d(t,{x0:function(){return n}});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=415.927e2ace.chunk.js.map