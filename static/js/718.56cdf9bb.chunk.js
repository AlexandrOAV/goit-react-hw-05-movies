"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[718],{2605:function(e,t,r){r.d(t,{Z:function(){return d}});var n="Button_Button__Smq3v",a=r(184),s=function(e){var t=e.onClick;return(0,a.jsx)("button",{type:"button",className:n,onClick:t,children:"Load more"})},c=r(6474),o=r(5984),u=r(7689),i=r(1087),l="MovieItem_GalleryItem__tOTn7",p="MovieItem_GalleryItem_image__GloLE",m="MovieItem_movieTitle__vvSk6",h="MovieItem_movieRelise__ElFcz",f=function(e){var t=e.movie,r=e.alt,n=t.id,s=t.poster_path,c=t.title,o=t.release_date,f=(0,u.TH)(),v=s?"".concat("https://image.tmdb.org/t/p/w500").concat(s):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700";return(0,a.jsxs)("li",{className:l,children:[(0,a.jsx)(i.rU,{to:"/movies/".concat(n),state:{from:f},children:(0,a.jsx)("img",{className:p,src:v,width:200,alt:r})}),(0,a.jsx)("h2",{className:m,children:c}),(0,a.jsxs)("p",{className:h,children:["Release date: ",(0,a.jsx)("br",{})," ",o]})]})},v="MoviesGallery_moviesGallery__2a3z1",_="MoviesGallery_container__p0OR5",d=function(e){var t=e.results,r=e.alt,n=e.totalResults,u=e.clickInLoadMore,i=e.isLoading,l=e.querySearch,p=t.length>0&&t.length<n,m=Array.isArray(t)&&t.length>0;return(0,a.jsxs)("section",{className:_,children:[m&&!l&&(0,a.jsx)("h1",{children:"Popular movies today"}),l&&m&&(0,a.jsxs)("h2",{children:["Found movies on request ",(0,a.jsx)("span",{children:l})," : ",n," "]}),(0,a.jsx)("ul",{className:v,children:m&&t.map((function(e){return(0,a.jsx)(f,{movie:e,alt:r},(0,o.x0)(10))}))}),i&&(0,a.jsx)(c.a,{}),p&&(0,a.jsx)(s,{totalResults:n,onClick:u})]})}},8718:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(3433),a=r(5861),s=r(9439),c=r(7757),o=r.n(c),u=r(2605),i=r(5705),l=r(7596),p="Searchbar_container__tv3qG",m="Searchbar_SearchForm__XuPyK",h="Searchbar_SearchForm_button__OB9qt",f="Searchbar_SearchForm_button_label__s9Ub2",v="Searchbar_SearchForm_input__50Ett",_=r(9126),d=r(184),x=function(e){var t=e.onSubmit;return(0,d.jsx)("div",{className:p,children:(0,d.jsx)(i.J9,{initialValues:{serchText:""},onSubmit:function(e,r){var n=e.serchText;if(""===n.trim())return l.Am.error("Please enter a query to search",{position:"top-center",autoClose:2e3});t(n),r.resetForm()},children:(0,d.jsxs)(i.l0,{className:m,children:[(0,d.jsx)("button",{type:"submit",value:"submit",className:h,children:(0,d.jsx)(_.dVI,{className:f})}),(0,d.jsx)(i.gN,{name:"serchText",className:v,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie"})]})})})},y=r(2791),b=r(1087),g=r(5967),j=function(){var e=(0,b.lr)(),t=(0,s.Z)(e,2),r=t[0],c=t[1],i=(0,y.useState)(""),p=(0,s.Z)(i,2),m=p[0],h=p[1],f=(0,y.useState)(1),v=(0,s.Z)(f,2),_=v[0],j=v[1],w=(0,y.useState)([]),S=(0,s.Z)(w,2),k=S[0],Z=S[1],A=(0,y.useState)(0),N=(0,s.Z)(A,2),I=N[0],q=N[1],C=(0,y.useState)(!1),F=(0,s.Z)(C,2),M=F[0],P=F[1],E=r.get("query");(0,y.useEffect)((function(){function e(){return(e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,(0,g.vC)(E);case 4:if(0!==(t=e.sent).results.length){e.next=8;break}return l.Am.error("Movies not faund",{position:"top-center",autoClose:2e3}),e.abrupt("return");case 8:Z((function(e){return 1===_?t.results:[].concat((0,n.Z)(e),(0,n.Z)(t.results))})),q(t.total_results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),l.Am.error("API NOT FAUND: ".concat(e.t0.message));case 15:return e.prev=15,P(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}E&&function(){e.apply(this,arguments)}()}),[_,E]);return(0,d.jsxs)("section",{children:[(0,d.jsx)(x,{onSubmit:function(e){m!==e&&(c({query:e}),h(E),j(1))}}),E&&(0,d.jsx)(u.Z,{results:k,alt:"poster movies ".concat(k.title),totalResults:I,clickInLoadMore:function(){return j((function(e){return e+1}))},isLoading:M,querySearch:E})]})}},5967:function(e,t,r){r.d(t,{Df:function(){return l},TP:function(){return m},vC:function(){return _},yz:function(){return f}});var n=r(5861),a=r(7757),s=r.n(a),c=r(1243),o=r(7596),u="b283a210ed534a6a364c9fa9b60e8619",i="https://api.themoviedb.org/3";function l(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/trending/movie/day"),n={params:{api_key:u,page:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/movie/").concat(t),n={params:{api_key:u,movie_id:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(s().mark((function e(t,r){var n,a,l,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(i,"/movie/").concat(t,"/").concat(r),a={params:{api_key:u,movie_id:t}},e.prev=2,e.next=5,(0,c.Z)(n,a);case 5:return l=e.sent,e.next=8,l.data;case 8:return p=e.sent,e.abrupt("return",p);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function _(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(s().mark((function e(t){var r,n,a,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(i,"/search/movie"),n={params:{api_key:u,query:t}},e.prev=2,e.next=5,(0,c.Z)(r,n);case 5:return a=e.sent,e.next=8,a.data;case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(2),o.Am.error("API not faund: ".concat(e.t0.message)),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=718.56cdf9bb.chunk.js.map